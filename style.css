*{margin:0; padding:0; box-sizing:border-box;}

body{
  font-family: Arial, sans-serif;
  background-color:#1e1e1e;
  background-image:url("https://i.pinimg.com/originals/6d/7c/65/6d7c65bbef77082a19ff4a2a2327d50d.jpg");
  background-size:cover;
  background-position:center;
  background-attachment: fixed;
  overflow-x:hidden;
  transition: background 0.3s ease;
}

body.cart-mode, body.tab-mode {
  background-image:url("https://i.pinimg.com/originals/6d/7c/65/6d7c65bbef77082a19ff4a2a2327d50d.jpg");
  background-size:cover;
  background-position:center;
  background-attachment: fixed;
}

/* ================== ШАПКА ================== */
.header{
  position:fixed; top:0; left:0; right:0;
  display:flex; align-items:center; justify-content:center;
  padding:16px;
  backdrop-filter: blur(8px);
  background: rgba(30,30,30,0.95);
  z-index:11;
}
.header h1{
  color:#fff;
  text-align:center;
  flex:1;
  font-size:24px;
  cursor:pointer;
  user-select:none;
  transition: transform 0.2s;
}
.header h1:active{ transform:scale(0.97); }
.header .menu-icon{
  position:absolute; left:16px;
  display:flex; flex-direction:column;
  justify-content:space-between;
  width:36px; height:26px;
  cursor:pointer;
  transition: transform 0.3s;
  z-index:10000; /* всегда кликабельный */
}
.header .menu-icon div{
  width:36px; height:4px; background:white; border-radius:2px;
  transition: all 0.3s;
}

/* ================== КНОПКА КОРЗИНЫ ================== */
.cart-btn {
  position: fixed;
  right: 16px;
  top: 16px;
  width: 40px;
  height: 40px;
  background: url('https://i.ibb.co/zsGb3fz/cart.png') no-repeat center center; /* прозрачная корзина */
  background-size: contain;
  border: none;
  cursor: pointer;
  z-index: 9999;
  outline: none;
  background-color: transparent;
  transition: transform 0.2s;
}
.cart-btn:active { transform: scale(0.95); }
.cart-count {
  position: absolute;
  top: -6px;
  right: -6px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: white;
  color: black;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  font-size: 12px;
  font-weight: bold;
}

/* ================== ПОДСВЕТКА КОРЗИНЫ ================== */
.cart-pulse {
  animation: cartPulse 0.5s ease;
}
@keyframes cartPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

/* ================== КОНТЕЙНЕР ================== */
.container{
  max-width:460px;
  margin:80px auto 40px;
  padding:16px;
  position:relative;
  transition: transform 0.4s ease;
}

/* ================== ГАМБУРГЕР ================== */
.categories{
  position:fixed; top:0; left:0; width:220px; height:100%;
  background:rgba(30,30,30,0.95);
  color:white; padding:60px 20px;
  display:flex; flex-direction:column; gap:20px;
  transform: translateX(-100%);
  transition: transform 0.4s ease-out;
  z-index:12;
  overflow-y:auto;
}
.categories.show{ transform: translateX(0); }
.categories div{
  cursor:pointer; font-size:18px;
  transition: color 0.2s, transform 0.2s;
}
.categories div:hover{
  color:#ffcc00;
  transform: translateX(4px);
}

/* ================== ПОИСК ================== */
.search{
  width:100%; padding:12px; border-radius:12px; border:none;
  margin-bottom:20px; font-size:16px; display:block; background:#333; color:white;
  transition: background 0.2s, transform 0.15s;
}
.search:focus{
  background:#444;
  transform: scale(1.02);
}
.search::placeholder{color:#ccc;}

/* ================== СЕТКА ТОВАРОВ ================== */
.products{
  display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:14px; justify-items:center;
  transition: transform 0.4s ease;
}

/* ================== КАРТОЧКИ ТОВАРОВ ================== */
.product{
  background: #000; /* полностью черный фон */
  border-radius:14px;
  padding:8px;
  text-align:center;
  width:160px; min-height:220px;
  display:flex; flex-direction:column;
  justify-content:flex-start;
  cursor:pointer;
  opacity:0;
  transform:translateY(20px);
  transition: transform 0.3s ease, opacity 0.3s ease, box-shadow 0.2s;
}
.product img{
  width:100%; height:100px; object-fit:cover;
  border-radius:10px;
  background:#000; /* под изображением черный фон */
}
.product h3{color:#fff;font-size:14px;margin-top:6px;}
.product p{color:#ccc;font-size:13px;}

/* ================== КНОПКИ КОРЗИНЫ ================== */
.count-block{display:flex; align-items:center; justify-content:center; gap:8px; margin-top:6px;}
.count-block button, .product .add-btn{
  padding:8px 12px; border-radius:10px; border:none;
  background:#333; color:white; font-size:14px; cursor:pointer;
  width:100%; transition: background 0.2s, transform 0.15s;
}
.count-block button:hover, .product .add-btn:hover{
  background:#555;
  transform: scale(1.03);
}
.count-number{
  min-width:28px; padding:4px 6px; text-align:center;
  background:white; color:black; border-radius:10px; font-size:14px;
}

/* ================== ИТОГ КОРЗИНЫ ================== */
.cart-total{
  margin-top:10px; padding:10px;
  background: rgba(0,0,0,0.6);
  color:white; border-radius:12px; font-size:16px;
  text-align:center; display:none;
  transition: opacity 0.3s ease;
}

/* ================== ПЛАВНОЕ ПОЯВЛЕНИЕ КАРТОЧЕК ================== */
.product.fade-slide {
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.3s ease;
}
